{"version":3,"sources":["webpack:///./src/pages/txt/txtItem.js"],"names":["txtItem","props","_this","_React$Component","call","this","file","state","text","node","rawMarkdownBody","componentDidUpdate","prevProps","id","setState","downloadTxtFile","element","document","createElement","Blob","type","href","URL","createObjectURL","download","frontmatter","title","body","appendChild","click","handleChange","e","target","value","render","_this2","react__WEBPACK_IMPORTED_MODULE_0___default","a","react_draggable__WEBPACK_IMPORTED_MODULE_1___default","handle","defaultPosition","x","y","position","scale","onStart","handleStart","onDrag","handleDrag","onStop","handleStop","style","zIndex","className","onClick","closeWindow","spellcheck","onChange","React","Component"],"mappings":"4IAGMA,sBACF,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OACdA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACQJ,MAAMK,OACVJ,EAAKK,MAAQ,CAAEC,KAAMN,EAAKD,MAAMK,KAAKG,KAAKC,kBAHhCR,oHAOlBS,mBAAA,SAAmBC,GACZP,KAAKJ,MAAMK,KAAKG,KAAKI,KAAOD,EAAUN,KAAKG,KAAKI,IAE/CR,KAAKS,SAAS,CAACN,KAAMH,KAAKJ,MAAMK,KAAKG,KAAKC,qBAIlDK,gBAAA,WACI,IAAMC,EAAUC,SAASC,cAAc,KAEjCZ,EAAO,IAAIa,KAAK,CAACd,KAAKE,MAAMC,MAAO,CAAEY,KAAM,eACjDJ,EAAQK,KAAOC,IAAIC,gBAAgBjB,GACnCU,EAAQQ,SAAWnB,KAAKJ,MAAMK,KAAKG,KAAKgB,YAAYC,MACpDT,SAASU,KAAKC,YAAYZ,GAC1BA,EAAQa,WAGZC,aAAA,SAAaC,GACT1B,KAAKS,SAAS,CACVN,KAAMuB,EAAEC,OAAOC,WAIvBC,OAAA,WAAQ,IAAAC,EAAA9B,KACJ,OAAIA,KAAKJ,MAAMK,KAKX8B,EAAAC,EAAAnB,cAACoB,EAAAD,EAAD,CACIE,OAAO,UACPC,gBAAiB,CAAEC,EAAG,EAAGC,EAAG,GAC5BC,SAAU,KACVC,MAAO,EACPC,QAASxC,KAAKyC,YACdC,OAAQ1C,KAAK2C,WACbC,OAAQ5C,KAAK6C,YACbd,EAAAC,EAAAnB,cAAA,OAAKiC,MAAO,CAAEC,OAAQ,IAAMC,UAAU,aACtCjB,EAAAC,EAAAnB,cAAA,OAAKmC,UAAU,uBACPjB,EAAAC,EAAAnB,cAAA,YAAOb,KAAKJ,MAAMK,KAAKG,KAAKgB,YAAYC,OAExCU,EAAAC,EAAAnB,cAAA,OAAKoC,QAASjD,KAAKJ,MAAMsD,YAAaF,UAAU,eAAhD,QAEJjB,EAAAC,EAAAnB,cAAA,OAAKmC,UAAU,WACfjB,EAAAC,EAAAnB,cAAA,OAAKmC,UAAU,QACfjB,EAAAC,EAAAnB,cAAA,QAAMmC,UAAU,mBAAhB,UACIjB,EAAAC,EAAAnB,cAAA,OAAKmC,UAAU,gBACPjB,EAAAC,EAAAnB,cAAA,OAAKoC,QAAS,kBAAMnB,EAAKpB,oBAAzB,QACAqB,EAAAC,EAAAnB,cAAA,OAAKoC,QAASjD,KAAKJ,MAAMsD,aAAzB,UAGZnB,EAAAC,EAAAnB,cAAA,sBACAkB,EAAAC,EAAAnB,cAAA,uBAEJkB,EAAAC,EAAAnB,cAAA,YAAUsC,WAAW,QAAQH,UAAU,oBACvCpB,MAAO5B,KAAKE,MAAMC,KAClBiD,SAAU,SAAC1B,GAAD,OAAOI,EAAKL,aAAaC,QA/BhC,SAjCG2B,IAAMC,WAuEb3D","file":"component---src-pages-txt-txt-item-js-f01dd1eca853c4e23f78.js","sourcesContent":["import React from \"react\";\nimport Draggable from 'react-draggable';\n\nclass txtItem extends React.Component{\n    constructor(props){\n        super(props);\n        if(this.props.file){\n            this.state = { text: this.props.file.node.rawMarkdownBody };\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if(this.props.file.node.id !== prevProps.file.node.id)\n        {\n            this.setState({text: this.props.file.node.rawMarkdownBody});\n        }\n    } \n\n    downloadTxtFile(){\n        const element = document.createElement(\"a\");\n        // const text = this.state.text;\n        const file = new Blob([this.state.text], { type: 'text/plain' });\n        element.href = URL.createObjectURL(file);\n        element.download = this.props.file.node.frontmatter.title;\n        document.body.appendChild(element); // Required for this to work in FireFox\n        element.click();\n    }\n\n    handleChange(e) {\n        this.setState({\n            text: e.target.value\n        });\n    }\n\n    render(){\n        if(!this.props.file){\n            return null;\n        }\n\n        return (\n            <Draggable\n                handle=\".handle\"\n                defaultPosition={{ x: 0, y: 0 }}\n                position={null}\n                scale={1}\n                onStart={this.handleStart}\n                onDrag={this.handleDrag}\n                onStop={this.handleStop}>\n                <div style={{ zIndex: 10 }} className=\"txtWindow\">\n                <div className=\"txtWindowNav handle\">\n                        <span>{this.props.file.node.frontmatter.title}</span>\n\n                        <div onClick={this.props.closeWindow} className=\"closeButton\"> x </div>\n                </div>\n                    <div className=\"menuBar\">\n                    <div className=\"file\">\n                    <span className=\"file fileButton\" > File </span >\n                        <div className=\"file-content\">\n                                <div onClick={() => this.downloadTxtFile()}>Save</div>\n                                <div onClick={this.props.closeWindow}>Exit</div>\n                    </div>\n                    </div>\n                    <span> Edit </span>\n                    <span> Help </span>\n                </div>\n                <textarea spellcheck=\"false\" className=\"txtWindowtextarea\" \n                value={this.state.text} \n                onChange={(e) => this.handleChange(e)} />\n                </div>\n            </Draggable>\n        )\n        }\n}\n\nexport default txtItem;\n"],"sourceRoot":""}